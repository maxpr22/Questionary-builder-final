{"mappings":"ACAA,SAAS,gBAAgB,CAAC,mBAAoB,WAC5C,WAAW,KACT,IAAM,EAAgB,SAAS,gBAAgB,CAAC,kBAG1C,EAAS,AADG,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM,EACnC,GAAG,CAAC,WAE7B,GAAI,CAAC,EAAQ,CACX,QAAQ,KAAK,CAAC,4BACd,MACF,CAEA,IAAM,EAAkB,CAAC,YAAY,EAAE,EAAA,CAAQ,CAE/C,SAAS,IACP,IAAI,EAAU,CAAC,EAEf,EAAc,OAAO,CAAC,CAAC,EAAM,KAC3B,IAAM,EAAmB,EAAK,aAAa,CAAC,YAC5C,GAAI,CAAC,EAAkB,OAEvB,IAAM,EAAY,EAAiB,aAAa,CAAC,sBAC3C,EAAc,EAAiB,gBAAgB,CACnD,uBAEI,EAAiB,EAAiB,gBAAgB,CACtD,0BAGE,GACF,CAAA,CAAO,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,CAAG,EAAU,KAAK,CAAC,IAAI,EADrD,EAIA,EAAY,OAAO,CAAC,AAAA,IACd,EAAM,OAAO,EACf,CAAA,CAAO,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,CAAG,EAAM,KAAK,AAAL,CAEzC,GAEA,IAAM,EAAoB,IAAI,EAAe,CAC1C,MAAM,CAAC,AAAA,GAAM,EAAG,OAAO,EACvB,GAAG,CAAC,AAAA,GAAM,EAAG,KAAK,CACjB,CAAA,EAAkB,MAAM,CAAG,GAC7B,CAAA,CAAO,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,CAAG,CADjC,CAGF,GAEA,aAAa,OAAO,CAAC,EAAiB,KAAK,SAAS,CAAC,GACvD,CAiDA,EAAc,OAAO,CAAC,AAAA,IACpB,IAAM,EAAmB,EAAK,aAAa,CAAC,YAC5C,GAAI,CAAC,EAAkB,OAEvB,IAAM,EAAY,EAAiB,aAAa,CAAC,sBAC3C,EAAc,EAAiB,gBAAgB,CACnD,uBAEI,EAAiB,EAAiB,gBAAgB,CACtD,0BAGE,GACF,EAAU,gBAAgB,CAAC,QAAS,GAGtC,EAAY,OAAO,CAAC,AAAA,IAClB,EAAM,gBAAgB,CAAC,SAAU,EACnC,GAEA,EAAe,OAAO,CAAC,AAAA,IACrB,EAAS,gBAAgB,CAAC,SAAU,EACtC,EACF,GAEA,AAxEA,WACE,IAAM,EACJ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,KAAqB,CAAC,EAExD,EAAc,OAAO,CAAC,CAAC,EAAM,KAC3B,IAAM,EAAmB,EAAK,aAAa,CAAC,YAC5C,GAAI,CAAC,EAAkB,OAEvB,IAAM,EAAY,EAAiB,aAAa,CAAC,sBAC3C,EAAc,EAAiB,gBAAgB,CACnD,uBAEI,EAAiB,EAAiB,gBAAgB,CACtD,0BAKE,GAAa,CAAY,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,EAChD,CAAA,EAAU,KAAK,CAAG,CAAY,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,AAAD,EAIpD,EAAY,OAAO,CAAC,AAAA,IACd,CAAY,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,GAAK,EAAM,KAAK,EACnD,CAAA,EAAM,OAAO,CAAG,CAAA,CAAhB,CAGJ,GAEI,MAAM,OAAO,CAAC,CAAY,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,GACjD,EAAe,OAAO,CAAC,AAAA,IACjB,CAAY,CAAC,CAAC,SAAS,EAAE,EAAA,CAAO,CAAC,CAAC,QAAQ,CAAC,EAAS,KAAK,GAC3D,CAAA,EAAS,OAAO,CAAG,CAAA,CAAnB,CAGJ,EAEJ,GAEI,AAA8B,YAA9B,OAAO,mBACT,qBAEA,QAAQ,KAAK,CAAC,wCAElB,GA4BF,EAAG,IACL","sources":["<anon>","funcs/saveAnswersToLocalStorage.js"],"sourcesContent":["var $ce4879adc350011f$exports = {};\ndocument.addEventListener('DOMContentLoaded', function() {\n    setTimeout(()=>{\n        const questionCards = document.querySelectorAll('.question-card');\n        const urlParams = new URLSearchParams(window.location.search);\n        const testId = urlParams.get('test_id');\n        if (!testId) {\n            console.error(\"test_id \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D \\u0432 URL!\");\n            return;\n        }\n        const localStorageKey = `quizAnswers_${testId}`;\n        function saveAnswers() {\n            let answers = {};\n            questionCards.forEach((card, index)=>{\n                const answersContainer = card.querySelector('.answers');\n                if (!answersContainer) return;\n                const textInput = answersContainer.querySelector(\"input[type='text']\");\n                const radioInputs = answersContainer.querySelectorAll(\"input[type='radio']\");\n                const checkboxInputs = answersContainer.querySelectorAll(\"input[type='checkbox']\");\n                if (textInput) answers[`question-${index}`] = textInput.value.trim();\n                radioInputs.forEach((radio)=>{\n                    if (radio.checked) answers[`question-${index}`] = radio.value;\n                });\n                const checkedCheckboxes = [\n                    ...checkboxInputs\n                ].filter((cb)=>cb.checked).map((cb)=>cb.value);\n                if (checkedCheckboxes.length > 0) answers[`question-${index}`] = checkedCheckboxes;\n            });\n            localStorage.setItem(localStorageKey, JSON.stringify(answers));\n        }\n        function loadAnswers() {\n            const savedAnswers = JSON.parse(localStorage.getItem(localStorageKey)) || {};\n            questionCards.forEach((card, index)=>{\n                const answersContainer = card.querySelector('.answers');\n                if (!answersContainer) return;\n                const textInput = answersContainer.querySelector(\"input[type='text']\");\n                const radioInputs = answersContainer.querySelectorAll(\"input[type='radio']\");\n                const checkboxInputs = answersContainer.querySelectorAll(\"input[type='checkbox']\");\n                let hasAnswer = false; // Флаг, есть ли ответы\n                if (textInput && savedAnswers[`question-${index}`]) {\n                    textInput.value = savedAnswers[`question-${index}`];\n                    hasAnswer = true;\n                }\n                radioInputs.forEach((radio)=>{\n                    if (savedAnswers[`question-${index}`] === radio.value) {\n                        radio.checked = true;\n                        hasAnswer = true;\n                    }\n                });\n                if (Array.isArray(savedAnswers[`question-${index}`])) checkboxInputs.forEach((checkbox)=>{\n                    if (savedAnswers[`question-${index}`].includes(checkbox.value)) {\n                        checkbox.checked = true;\n                        hasAnswer = true;\n                    }\n                });\n            });\n            if (typeof checkIfAllAnswered === 'function') checkIfAllAnswered();\n            else console.error(\"\\u0424\\u0443\\u043D\\u043A\\u0446\\u0438\\u044F checkForAllAnswers \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\");\n        }\n        questionCards.forEach((card)=>{\n            const answersContainer = card.querySelector('.answers');\n            if (!answersContainer) return;\n            const textInput = answersContainer.querySelector(\"input[type='text']\");\n            const radioInputs = answersContainer.querySelectorAll(\"input[type='radio']\");\n            const checkboxInputs = answersContainer.querySelectorAll(\"input[type='checkbox']\");\n            if (textInput) textInput.addEventListener('input', saveAnswers);\n            radioInputs.forEach((radio)=>{\n                radio.addEventListener('change', saveAnswers);\n            });\n            checkboxInputs.forEach((checkbox)=>{\n                checkbox.addEventListener('change', saveAnswers);\n            });\n        });\n        loadAnswers();\n    }, 1000);\n});\n\n\n//# sourceMappingURL=walkthrough.1f010321.js.map\n","document.addEventListener('DOMContentLoaded', function () {\n  setTimeout(() => {\n    const questionCards = document.querySelectorAll('.question-card');\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const testId = urlParams.get('test_id');\n\n    if (!testId) {\n      console.error('test_id не найден в URL!');\n      return;\n    }\n\n    const localStorageKey = `quizAnswers_${testId}`;\n\n    function saveAnswers() {\n      let answers = {};\n\n      questionCards.forEach((card, index) => {\n        const answersContainer = card.querySelector('.answers');\n        if (!answersContainer) return;\n\n        const textInput = answersContainer.querySelector(\"input[type='text']\");\n        const radioInputs = answersContainer.querySelectorAll(\n          \"input[type='radio']\"\n        );\n        const checkboxInputs = answersContainer.querySelectorAll(\n          \"input[type='checkbox']\"\n        );\n\n        if (textInput) {\n          answers[`question-${index}`] = textInput.value.trim();\n        }\n\n        radioInputs.forEach(radio => {\n          if (radio.checked) {\n            answers[`question-${index}`] = radio.value;\n          }\n        });\n\n        const checkedCheckboxes = [...checkboxInputs]\n          .filter(cb => cb.checked)\n          .map(cb => cb.value);\n        if (checkedCheckboxes.length > 0) {\n          answers[`question-${index}`] = checkedCheckboxes;\n        }\n      });\n\n      localStorage.setItem(localStorageKey, JSON.stringify(answers));\n    }\n\n    function loadAnswers() {\n      const savedAnswers =\n        JSON.parse(localStorage.getItem(localStorageKey)) || {};\n\n      questionCards.forEach((card, index) => {\n        const answersContainer = card.querySelector('.answers');\n        if (!answersContainer) return;\n\n        const textInput = answersContainer.querySelector(\"input[type='text']\");\n        const radioInputs = answersContainer.querySelectorAll(\n          \"input[type='radio']\"\n        );\n        const checkboxInputs = answersContainer.querySelectorAll(\n          \"input[type='checkbox']\"\n        );\n\n        let hasAnswer = false; // Флаг, есть ли ответы\n\n        if (textInput && savedAnswers[`question-${index}`]) {\n          textInput.value = savedAnswers[`question-${index}`];\n          hasAnswer = true;\n        }\n\n        radioInputs.forEach(radio => {\n          if (savedAnswers[`question-${index}`] === radio.value) {\n            radio.checked = true;\n            hasAnswer = true;\n          }\n        });\n\n        if (Array.isArray(savedAnswers[`question-${index}`])) {\n          checkboxInputs.forEach(checkbox => {\n            if (savedAnswers[`question-${index}`].includes(checkbox.value)) {\n              checkbox.checked = true;\n              hasAnswer = true;\n            }\n          });\n        }\n      });\n\n      if (typeof checkIfAllAnswered === 'function') {\n        checkIfAllAnswered();\n      } else {\n        console.error('Функция checkForAllAnswers не найдена');\n      }\n    }\n\n    questionCards.forEach(card => {\n      const answersContainer = card.querySelector('.answers');\n      if (!answersContainer) return;\n\n      const textInput = answersContainer.querySelector(\"input[type='text']\");\n      const radioInputs = answersContainer.querySelectorAll(\n        \"input[type='radio']\"\n      );\n      const checkboxInputs = answersContainer.querySelectorAll(\n        \"input[type='checkbox']\"\n      );\n\n      if (textInput) {\n        textInput.addEventListener('input', saveAnswers);\n      }\n\n      radioInputs.forEach(radio => {\n        radio.addEventListener('change', saveAnswers);\n      });\n\n      checkboxInputs.forEach(checkbox => {\n        checkbox.addEventListener('change', saveAnswers);\n      });\n    });\n\n    loadAnswers();\n  }, 1000);\n});\n"],"names":["document","addEventListener","setTimeout","questionCards","querySelectorAll","testId","urlParams","URLSearchParams","window","location","search","get","console","error","localStorageKey","saveAnswers","answers","forEach","card","index","answersContainer","querySelector","textInput","radioInputs","checkboxInputs","value","trim","radio","checked","checkedCheckboxes","filter","cb","map","length","localStorage","setItem","JSON","stringify","checkbox","loadAnswers","savedAnswers","parse","getItem","Array","isArray","includes","checkIfAllAnswered"],"version":3,"file":"walkthrough.1f010321.js.map"}